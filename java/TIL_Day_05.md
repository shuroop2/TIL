# TIL_Day_05

> 2022년 05월 25일

## 참조 타입

> 주소를 통해 객체를 참조하는 타입으로 배열, 열거, 클래스, 인터페이스 타입으로 분류

### 메모리 사용 영역

- JVM이 사용하는 메모리 영역
  - 운영체제(OS)에서 할당 받은 메모리 영역(Runtime Data Area)을 세 영역으로 구분
    1. 메소드 영역
       - JVM 시작할 때 생성
       - 로딩된 클래스 바이트 코드 내용을 분석 후 저장
       - 모든 스레드 공유
    2. 힙 영역
       - JVM 시작할 때 생성
       - 객체 / 배열 저장
       - 사용되지 않은 객체는 Garbage Collector가 자동 제거
    3. JVM 스택 영역
       - 스레드 별 생성
       - 메소드 호출할 때마다 프레임을 스택에 추가
       - 메소드 종료하면 프레임 제거
       - 프래임 내부의 로컬 변수 스택에 변수 저장

### 참조 변수의 ==, != 연산

> 동일한 객체를 참조하는지 다른 객체를 참조하는지 조사

- == : 같은 객체를 참조하면 true, 다른 객체를 참조하면 false

### null과 NullPointerException

#### null

> 참조하는 객체가 없다는 의미

- 변수가 참조하는 객체가 없을 경우 초기값으로 사용 가능
- 참조 타입의 변수에만 저장 가능
- null로 초기화된 참조 변수는 스택 영역 생성

#### NullPointerException

> null값을 가지고 있는 객체의 필드나 메소드를 사용하려 했을 때 발생하는 오류

- null값을 가지고 있는 변수는 사용할 수 없음 -> 참조할 객체가 없기 때문

### String 타입

> 문자열을 저장하는 클래스 타입

- 문자열은 String 객체로 생성되고 변수는 String 객체를 참조한다

#### String 객체 생성 방법

1. 변수에 문자열을 저장하여 생성하는 방법

   ```java
   String name1 = "홍길동";
   String name2 = "홍길동";
   ```

   - name1과 name2는 동일한 String 객체 참조

2. new 연산자를 사용하는 방법

   ```java
   String name1 = new String("홍길동");
   String name2 = new String("홍길동");
   ```

   - name1과 name2는 서로 다른 String 객체 참조

### 배열

> 같은 타입의 데이터를 연속된 공간에 저장하는 자료구조
>
> 크기와 데이터 타입이 같으며 동일한 이름을 갖는 원소들의 연속적 저장 영역

- 배열의 원소는 메모리 내에서 순서대로 저장
- 각 배열의 원소는 인덱스([0]부터 시작)로 구별

#### 배열 이름

> 배열의 저장 위치를 가리키는 참조(레퍼런스) 변수
>
> 즉, 배열이 저장된 곳의 시작 주소 번지를 갖고 있음

- 배열은 기본 타입이 아닌 참조 타입(레퍼런스 타입)

#### 배열을 사용하는 이유

- 같은 타입의 변수 사용 시 변수 선언 개수를 줄일 수 있음

- 반복문을 활용하여 프로그램을 간단히 작성할 수 있기 때문

#### 배열 선언 형식

1. 타입[] 변수

   ```java
   int[] num;
   double[] average;
   ```

2. 타입 변수[]

   ```java
   double average[];
   String name[];
   ```

- 주의
  - 배열은 선언 후 메모리 공간을 할당 받아야만 사용할 수 있음
  - 참조 변수만 선언하면 사용할 수 없음

#### 배열의 메모리 공간 할당

- new 키워드를 사용하여 메모리 공간 할당

  ```java
  int[] a = new int[5]; // 선언과 동시에 할당
  ```

#### 배열의 초기값

- 메모리를 할당 받을 때 자료형의 기본값으로 초기화
  - 숫자 : 0 (정수), 0.0 (실수)
  - boolean : false
  - 참조 타입 : null

#### 배열의 길이

> 배열에 저장할 수 있는 전체 항목의 수 (배열 크기)

```java
배열명.length
```

#### 다차원 배열

> 2차원 이상의 배열

```java
int[][] a = new int [3][4]; // 행 3개, 열 4개
```

#### 배열 복사

- 배열은 한 번 생성하면 크기 변경 불가
- 더 많은 저장 공간이 필요하면 더 큰 배열을 새로 만들고 이전 배열로부터 항목 값들을 복사

- 배열 복사 방법

  1. for문 사용해서 각 원소의 값을 하나씩 복사

  2. System.arrayCopy() 메소드 이용

     ```java
     System.arrayCopy(원본배열, 시작인덱스, 대상배열, 시작인덱스, 복사할 항목 개수);
     ```

#### 향상된 for 문

- 배열 및 컬렉션의 항목 요소를 순차적으로 처리

- 인덱스 이용하지 않고 바로 항목 요소 반복

  ```java
  for(변수 : 배열) { ... };
  ```

  - 변수에 배열 항목 하나씩 저장해서 사용
  - 배열의 원소의 개수만큼 반복 수행